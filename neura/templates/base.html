<!doctype html>
<title>{% block title %}Neura{% endblock %}</title>
<link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>

<html>
    <body>
        
            {% block content %}
            {% endblock %}
        

        <!-- Modal for flash messages -->
        <div class="modal fade" id="flashModal" tabindex="-1" aria-labelledby="flashModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <h5 class="modal-title" id="flashModalLabel">Message</h5>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>
                    <div class="modal-body" id="flashMessageContent">
                        <!-- Flash message content will be inserted here -->
                    </div>
                    <div class="modal-footer">
                        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    </div>
                </div>
            </div>
        </div>

        <script>
            // Show the modal if there's a flash message
            document.addEventListener("DOMContentLoaded", function() {
                // Check if there are any flash messages
                const flashMessages = {{ get_flashed_messages()|tojson }};
                
                if (flashMessages.length > 0) {
                    // Prepare the modal
                    const modal = new bootstrap.Modal(document.getElementById('flashModal'));
                    const flashMessageContent = document.getElementById('flashMessageContent');

                    // Loop through the flash messages and display them
                    flashMessages.forEach(message => {
                        const messageElement = document.createElement('p');
                        messageElement.textContent = message;
                        flashMessageContent.appendChild(messageElement);
                    });

                    // Show the modal
                    modal.show();
                }
            });
        </script>
    </body>
</html>
